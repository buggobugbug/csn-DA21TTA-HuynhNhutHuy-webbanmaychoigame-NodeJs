<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="/css/style.css">
    <title>Node.js Basic</title>
</head>

<body>
    <div class="topnav">
        <a class="active" href="/">Sản phẩm</a>
        <a href="/Trang-them-san-pham">Mới</a>
        <a href="/Trang-update-user">Cập nhật</a>
    </div>
<div style="padding-left:16px">
    <div class="w3-container">
        <h2>Danh Sách Sản Phẩm</h2>
    
    
        <!-- Form tìm kiếm sản phẩm theo MaSanPham -->
        <div class="search-forms-container">
            <form action="/search-by-ma-san-pham" method="post" class="search-form">
                <label for="MaSanPham">Tìm sản phẩm theo Mã Sản Phẩm:</label>
                <input type="text" id="MaSanPham" name="MaSanPham" />
                <button type="submit">Tìm kiếm</button>
            </form>
        
            <form action="/search-by-ten-san-pham" method="post" class="search-form">
                <label for="TenSanPham">Tìm sản phẩm theo Tên Sản Phẩm:</label>
                <input type="text" id="TenSanPham" name="TenSanPham" />
                <button type="submit">Tìm kiếm</button>
            </form>
        
            <form action="/search-by-nha-san-xuat" method="post" class="search-form">
                <label for="TenNXS">Tìm Nhà Sản Xuất</label>
                <input type="text" id="TenNXS" name="TenNXS" />
                <button type="submit">Tìm kiếm</button>
            </form>
        
            <form action="/search-by-the-loai" method="post" class="search-form">
                <label for="Theloai">Chọn Nhà Sản Xuất:</label>
                <select id="Theloai" name="Theloai">
                    <option value="PS5">PS5</option>
                    <option value="PS4">PS4</option>
                </select>
                <button type="submit">Tìm kiếm</button>
            </form>
        </div>


        <!-- Kết quả tìm kiếm -->
        

        <table class="w3-table-all w3-hoverable">
            <thead>
                <tr class="w3-light-grey">
                    <th>Mã sản phẩm</th>
                    <th>Tên sản phẩm</th>
                    <th>Giá</th>
                    <th>Số Lượng</th>
                    <th>Tên Nhà Sản xuất</th>
                    <th>Thể loại</th>
                    <th>Mô tả</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% for(let i=0; i < SanPham.length; i++) { %>
                    <tr>
                        <td>
                            <%= SanPham[i].MaSanPham %>
                        </td>
                        <td>
                            <%= SanPham[i].TenSanPham %>
                        </td>
                        <td>
                            <%= SanPham[i].Gia %>
                        </td>
                        <td>
                            <%= SanPham[i].SoLuong %>
                        </td>
                        <td>
                            <%= SanPham[i].TenNXS %>
                        </td>
                        <td>
                            <%= SanPham[i].Theloai %>
                        </td>
                        <td>
                            <img src="/images/<%= SanPham[i].Mota %>" alt="" width="100px" height="100px" />
                        </td>
                        <td>
                            <form action="/edit/<%= SanPham[i].MaSanPham %>" method="GET">
                                <button type="submit">Edit</button>
                            </form>
            
                            <form action="/delete" method="POST">
                                <input type="text" hidden value="<%= SanPham[i].MaSanPham %>" name="MaSanPham">
                                <button type="submit">Delete</button>
                            </form>
                        </td>
                    </tr>
                    <% } %>
            </tbody>
        </table>
    </div>
</div>
    </body>
    
    </html>